# EMG_signal_acquisition
眼周肌肉电信号采集

# 眼周肌肉电信号采集项目笔记

## 1. 项目概述
- [介绍](#介绍)
  - [项目背景](#项目背景)
  - [目标](#目标)
- [技术概述](#技术概述)

## 2. 知识与技术学习
- [肌电信号概念](#肌电信号概念)
- [传感器与信号采集](#传感器与信号采集)
- [信号处理技术](#信号处理技术)
- [数据采集系统设计](#数据采集系统设计)

## 3. 硬件设计
- [电极与传感器设计](#电极与传感器设计)
- [前端放大电路设计](#前端放大电路设计)
- [信号调理电路设计](#信号调理电路设计)
- [主控与接口电路](#主控与接口电路)

## 4. 软件设计
- [系统架构设计](#系统架构设计)
- [信号采集与处理](#信号采集与处理)
- [数据存储与传输](#数据存储与传输)
- [用户界面设计](#用户界面设计)

## 5. 结构设计
- [系统外观与形态设计](#系统外观与形态设计)
- [内部结构设计](#内部结构设计)
- [组件与模块化设计](#组件与模块化设计)

## 6. 问题解决
- [信号质量问题](#信号质量问题)
- [硬件调试问题](#硬件调试问题)
- [软件调试与性能优化](#软件调试与性能优化)

## 7. 测试与验证
- [硬件测试](#硬件测试)
- [软件测试](#软件测试)
- [系统集成与调试](#系统集成与调试)

## 8. 文档资料
- [项目文档](#项目文档)
- [技术文献与参考资料](#技术文献与参考资料)
- [开发与维护指南](#开发与维护指南)

## 9. 项目总结与展望
- [总结与反思](#总结与反思)
- [未来发展方向](#未来发展方向)

## 10. 附录
- [电路原理图](#电路原理图)
- [PCB设计文件](#pcb设计文件)
- [代码仓库链接](#代码仓库链接)
- [工具与开发环境说明](#工具与开发环境说明)

# 眼周肌肉电信号采集项目笔记

## 1. 项目概述

### 1.1 介绍
#### 项目背景
眼周肌肉电信号采集主要应用于医学领域，例如用于肌肉疾病诊断、眼部运动研究或疲劳监测。本项目旨在通过采集眼周肌肉的电信号，分析其特性，并提供实时反馈。

#### 目标
本项目的目标是设计一个小型便捷的设备，能够高效准确地采集眼部肌肉的电信号，并通过数据分析提供实时反馈。

### 1.2 技术概述
- **肌电信号（EMG）**：电生理学中的一种信号，用于反映肌肉的电活动。
- **传感器技术**：使用表面电极或针电极进行信号采集。
- **信号处理技术**：对采集到的EMG信号进行滤波、放大和数字化处理。

---

## 2. 知识与技术学习

### 2.1 肌电信号概念
肌电信号（EMG）是肌肉活动的电生理表现，通过肌肉纤维的电位变化反映肌肉的收缩与放松情况。通过分析这些信号，可以获得肌肉的运动状态。
### 肌电信号概念
### 2.2 传感器与信号采集
- **电极类型**：表面电极（用于无创采集）、针电极（用于更精确的信号采集）。
- **电极布置**：根据眼部肌肉的分布与信号强度选择电极布置位置。

### 2.3 信号处理技术
- **信号放大**：使用运算放大器增大微弱的电信号。
- **滤波技术**：使用带通滤波器去除低频噪声和高频干扰。
- **模拟与数字信号处理**：包括模数转换（ADC）和数字滤波技术。

### 2.4 数据采集系统设计
设计合理的数据采集系统，需要选择合适的ADC、数据存储方案以及数据传输方式（如I2C、SPI、USB）。

---

## 3. 硬件设计

### 3.1 电极与传感器设计
- **电极选择**：推荐使用Ag/AgCl电极，因其具有较好的生物相容性和稳定性。
- **传感器布置**：为确保信号准确性，应根据眼部肌肉群的分布进行合理布置。

### 3.2 前端放大电路设计
- **运算放大器**：选择具有低噪声和高增益的运算放大器。
- **增益设置**：根据采集的肌电信号强度，设置适当的增益。
- **高通与低通滤波器**：设计合适的滤波器来去除工频干扰和其他噪声。

### 3.3 信号调理电路设计
- **抗噪设计**：使用差分放大器减少共模噪声。
- **电源管理**：选择低功耗电源并设计合理的电池管理电路。

### 3.4 主控与接口电路
- **主控芯片选择**：选用STM32或其他低功耗微控制器。
- **接口设计**：包括I2C、SPI或UART接口，确保数据采集与外部通信顺畅。

---

## 4. 软件设计

### 4.1 系统架构设计
- **模块划分**：软件分为信号采集模块、信号处理模块、用户界面模块和通信模块。
- **操作系统选择**：可使用裸机或FreeRTOS，根据实时性需求进行选择。

### 4.2 信号采集与处理
- **ADC数据采集**：配置ADC采样并通过DMA进行高速数据传输。
- **信号处理算法**：实现EMG信号的带通滤波、包络解调、RMS等处理。

### 4.3 数据存储与传输
- **存储设计**：本地存储（如SD卡）或通过无线传输（如蓝牙、WiFi）上传至云端。
- **传输协议**：选择合适的传输协议，如UART、USB或无线协议。

### 4.4 用户界面设计
- **显示界面**：使用OLED或LCD显示屏展示实时信号与状态。
- **交互设计**：按钮或触摸屏进行操作，用户可以实时调整设备设置。

---

## 5. 结构设计

### 5.1 系统外观与形态设计
- **外壳设计**：选择人体工程学设计的外壳，确保佩戴舒适。
- **设备形态**：设计成头戴式、眼罩式或眼镜式，易于佩戴且不影响正常活动。

### 5.2 内部结构设计
- **PCB布局**：合理布局电源模块、信号处理模块与主控模块，避免信号干扰。
- **散热设计**：合理设计散热通道，确保系统稳定运行。

### 5.3 组件与模块化设计
- **模块化设计**：各个功能模块（如电池、传感器、处理器）独立设计，便于维护和升级。
- **接口设计**：确保各模块间连接稳定，易于扩展和替换。

---

## 6. 问题解决

### 6.1 信号质量问题
- **噪声问题**：通过增加抗噪设计、改善电极接触以及使用合适的滤波器来解决噪声问题。
- **信号稳定性**：调整电极布置、增益设置等，确保信号的稳定性。

### 6.2 硬件调试问题
- **电源问题**：检查电源稳定性，避免电池电压波动影响信号采集。
- **电路布局问题**：优化PCB布局，避免信号干扰和噪声。

### 6.3 软件调试与性能优化
- **延迟问题**：优化数据采集和处理流程，减少延迟。
- **内存优化**：使用合适的数据结构和算法减少内存占用。

---

## 7. 测试与验证

### 7.1 硬件测试
- **电极测试**：检查电极接触是否良好，采集信号是否准确。
- **电路测试**：测试电路的稳定性和信号质量，确保没有电源噪声。

### 7.2 软件测试
- **信号处理测试**：验证EMG信号处理的正确性与实时性。
- **UI测试**：测试用户界面的响应速度与稳定性。

### 7.3 系统集成与调试
- **整体调试**：硬件与软件结合调试，确保系统能够稳定工作。
- **性能优化**：对系统进行全面性能优化，提升采集和处理速度。

---

## 8. 文档资料

### 8.1 项目文档
- **项目需求文档**：详细描述项目的目标、功能需求和性能要求。
- **设计文档**：包括硬件设计、软件设计和结构设计文档。

### 8.2 技术文献与参考资料
- **学术论文**：相关领域的最新研究成果与技术进展。
- **参考设计**：已有的EMG采集系统设计与实现。

### 8.3 开发与维护指南
- **使用手册**：设备的安装与使用说明。
- **调试与维护手册**：如何进行硬件和软件的调试与维护。

---

## 9. 项目总结与展望

### 9.1 总结与反思
- 总结项目中的成功经验与遇到的挑战。
- 分析项目实施过程中出现的问题及解决策略。

### 9.2 未来发展方向
- 探讨系统的技术升级方向，如多通道采集、无线传输等。
- 预测项目在医学或其他领域的应用前景。

---

## 10. 附录

### 10.1 电路原理图
- **电路设计图**：详细的硬件电路原理图。

### 10.2 PCB设计文件
- **PCB文件**：包含电路板布局的设计文件。

### 10.3 代码仓库链接
- **GitHub仓库**：提供项目源代码及文档。

### 10.4 工具与开发环境说明
- **开发环境**：介绍开发工具、编译环境等。
